[DEBUG] 2017-09-12 11:00:18,122 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:00:20,383 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:00:44,888 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:00:46,621 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:01:11,215 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:01:12,425 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:01:37,312 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:01:39,911 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:02:03,781 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:02:04,642 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:02:29,475 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:02:31,935 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:02:57,096 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:02:59,957 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:03:20,646 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:03:23,418 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:03:44,504 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:03:50,901 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:03:57,083 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:03:57,083 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b292fa] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:03:57,083 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:03:57,084 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:03:57,087 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:03:57,088 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:03:57,088 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 606013(Integer)
[DEBUG] 2017-09-12 11:03:57,094 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b292fa]
[DEBUG] 2017-09-12 11:03:57,094 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:04:08,760 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:04:08,762 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e4f3a] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:04:08,762 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:04:08,762 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:04:08,762 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:08,763 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:04:08,763 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:04:08,766 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e4f3a]
[DEBUG] 2017-09-12 11:04:08,766 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:04:08,767 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:04:08,767 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f36baf] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:04:08,767 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:04:08,767 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:04:08,767 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:08,767 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==>  Preparing: select b1.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch b2 ON b1.zid = b2.zid WHERE b2.uid = ? and b2.location = ? order by b1.level desc limit 1 
[DEBUG] 2017-09-12 11:04:08,768 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==> Parameters: 606770(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:04:08,771 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f36baf]
[DEBUG] 2017-09-12 11:04:08,771 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:04:08,771 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorFlowerService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:04:08,771 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:04:08,771 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:04:11,674 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:04:11,676 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:11,679 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will be managed by Spring
[DEBUG] 2017-09-12 11:04:11,681 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:11,683 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ?; 
[DEBUG] 2017-09-12 11:04:11,686 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:04:11,702 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:13,899 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:13,901 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:13,901 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==>  Preparing: select id, parent_id, uid, location, level, zid from t_manor_flower_branch where id = ? 
[DEBUG] 2017-09-12 11:04:13,902 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==> Parameters: f4f6c4f341ea4188ba052f2dfa41107c(String)
[DEBUG] 2017-09-12 11:04:13,909 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:14,412 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:04:15,287 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:15,291 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.selectByBranchId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:15,294 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.selectByBranchId - ==>  Preparing: select parent_id from t_manor_flower_branch_chain where branch_id = ? 
[DEBUG] 2017-09-12 11:04:15,296 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.selectByBranchId - ==> Parameters: f4f6c4f341ea4188ba052f2dfa41107c(String)
[DEBUG] 2017-09-12 11:04:15,303 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:20,529 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:20,530 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:20,530 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:04:20,534 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:04:20,542 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:20,628 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:20,629 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:20,630 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:04:20,631 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 606770(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:04:20,636 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:20,737 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:04:20,829 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:20,829 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:20,830 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:04:20,831 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 607795(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:04:20,837 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:21,185 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:21,194 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:21,198 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==>  Preparing: update t_manor_flower_branch set zid = ? where zid = ? and location = 0 and id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:04:21,203 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==> Parameters: 06b4f6c936b64bb48358a96386eb3ad7(String), f4f6c4f341ea4188ba052f2dfa41107c(String), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:04:21,207 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:21,360 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:21,371 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:21,373 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==>  Preparing: update t_manor_flower_branch set level = level+? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:04:21,376 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==> Parameters: -4(Integer), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:04:21,380 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:22,556 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:22,557 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:22,557 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:22,558 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 62d945c7388f4d358ea98745c931fb63(String)
[DEBUG] 2017-09-12 11:04:22,561 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:23,287 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:23,299 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:23,302 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:23,305 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 97afa4435aac425faba8a136677e472e(String)
[DEBUG] 2017-09-12 11:04:23,308 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:24,157 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:24,158 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:24,158 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:24,159 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), d67311a6b3dc424d807c3636fc2b3db4(String)
[DEBUG] 2017-09-12 11:04:24,162 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:26,271 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:26,274 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:26,275 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:26,277 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), e1c1f74723e243ba90447c1ba9c7a2b2(String)
[DEBUG] 2017-09-12 11:04:26,279 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:27,268 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:27,269 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:27,269 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:27,270 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), f4f6c4f341ea4188ba052f2dfa41107c(String)
[DEBUG] 2017-09-12 11:04:27,273 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:28,939 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:28,940 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:28,942 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:28,943 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 62d945c7388f4d358ea98745c931fb63(String)
[DEBUG] 2017-09-12 11:04:28,946 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:29,508 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:29,509 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:29,510 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:29,511 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 97afa4435aac425faba8a136677e472e(String)
[DEBUG] 2017-09-12 11:04:29,513 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:30,790 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:30,791 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:30,792 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:30,793 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), d67311a6b3dc424d807c3636fc2b3db4(String)
[DEBUG] 2017-09-12 11:04:30,795 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:31,398 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:31,402 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:31,404 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:31,407 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), e1c1f74723e243ba90447c1ba9c7a2b2(String)
[DEBUG] 2017-09-12 11:04:31,410 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:31,935 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:31,939 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:31,942 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:31,945 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), f4f6c4f341ea4188ba052f2dfa41107c(String)
[DEBUG] 2017-09-12 11:04:31,948 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:32,903 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:32,905 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:32,907 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:32,909 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 62d945c7388f4d358ea98745c931fb63(String)
[DEBUG] 2017-09-12 11:04:32,912 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:33,511 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:33,514 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:33,516 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:33,520 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 97afa4435aac425faba8a136677e472e(String)
[DEBUG] 2017-09-12 11:04:33,525 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:34,086 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:34,089 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:34,091 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:34,094 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), d67311a6b3dc424d807c3636fc2b3db4(String)
[DEBUG] 2017-09-12 11:04:34,097 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:34,959 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:34,962 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:34,964 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:34,968 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), e1c1f74723e243ba90447c1ba9c7a2b2(String)
[DEBUG] 2017-09-12 11:04:34,972 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:35,605 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:04:35,606 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:04:35,607 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:04:35,609 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), f4f6c4f341ea4188ba052f2dfa41107c(String)
[DEBUG] 2017-09-12 11:04:35,620 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:04:42,262 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:04:44,869 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:05:12,171 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:05:12,269 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:05:29,285 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:05:29,289 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:05:29,292 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:05:29,302 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 06b4f6c936b64bb48358a96386eb3ad7(String)
[DEBUG] 2017-09-12 11:05:29,307 com.alibaba.druid.pool.PreparedStatementPool - {conn-10004, pstmt-20036} enter cache
[DEBUG] 2017-09-12 11:05:29,308 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:05:30,006 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:05:30,010 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:05:30,013 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:05:30,016 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 06b4f6c936b64bb48358a96386eb3ad7(String)
[DEBUG] 2017-09-12 11:05:30,021 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:05:30,470 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:05:30,473 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:05:30,475 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:05:30,477 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 06b4f6c936b64bb48358a96386eb3ad7(String)
[DEBUG] 2017-09-12 11:05:30,480 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:05:30,836 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:05:30,839 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:05:30,841 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==>  Preparing: update t_manor_flower_branch set parent_id = ? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:05:30,845 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==> Parameters: 06b4f6c936b64bb48358a96386eb3ad7(String), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:05:30,848 com.alibaba.druid.pool.PreparedStatementPool - {conn-10004, pstmt-20037} enter cache
[DEBUG] 2017-09-12 11:05:30,848 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:05:34,325 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:05:34,327 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:05:34,328 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==>  Preparing: update t_manor_flower set branch_id = ? where type = 1 and florist_uid not in ( ? , ? , ? ) and branch_id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:05:34,330 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==> Parameters: f4f6c4f341ea4188ba052f2dfa41107c(String), 607795(Integer), 607795(Integer), 607795(Integer), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:05:34,335 com.alibaba.druid.pool.PreparedStatementPool - {conn-10004, pstmt-20038} enter cache
[DEBUG] 2017-09-12 11:05:34,336 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:05:34,338 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c] from current transaction
[DEBUG] 2017-09-12 11:05:34,339 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:05:34,340 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==>  Preparing: update t_manor_flower set branch_id = ?,florist_uid = ? where uid = ? 
[DEBUG] 2017-09-12 11:05:34,341 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==> Parameters: 06b4f6c936b64bb48358a96386eb3ad7(String), 606770(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:05:34,343 com.alibaba.druid.pool.PreparedStatementPool - {conn-10004, pstmt-20039} enter cache
[DEBUG] 2017-09-12 11:05:34,344 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:05:34,344 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:05:34,344 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:05:34,369 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:05:34,369 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e42a6c]
[DEBUG] 2017-09-12 11:05:34,371 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:05:34,371 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:05:34,372 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorInfoService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:05:34,372 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:05:34,372 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:05:34,383 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:05:34,383 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,384 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:05:34,385 org.springframework.jdbc.datasource.DataSourceUtils - Registering transaction synchronization for JDBC Connection
[DEBUG] 2017-09-12 11:05:34,386 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3] will be managed by Spring
[DEBUG] 2017-09-12 11:05:34,387 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:05:34,387 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:05:34,387 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:05:34,397 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120001} enter cache
[DEBUG] 2017-09-12 11:05:34,397 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,398 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1] from current transaction
[DEBUG] 2017-09-12 11:05:34,398 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:05:34,398 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:05:34,398 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 606770(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:05:34,406 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,406 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1] from current transaction
[DEBUG] 2017-09-12 11:05:34,407 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:05:34,407 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==>  Preparing: select uid from b_urs_earnings_relation_chain where parent_id = ? and object_oriented = 9 
[DEBUG] 2017-09-12 11:05:34,407 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:05:34,409 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120002} enter cache
[DEBUG] 2017-09-12 11:05:34,410 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,410 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1] from current transaction
[DEBUG] 2017-09-12 11:05:34,410 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:05:34,411 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:05:34,411 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 606770(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:05:34,414 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120003} enter cache
[DEBUG] 2017-09-12 11:05:34,414 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,414 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1] from current transaction
[DEBUG] 2017-09-12 11:05:34,414 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:05:34,414 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:05:34,415 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:05:34,418 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,418 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1] from current transaction
[DEBUG] 2017-09-12 11:05:34,418 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:05:34,418 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==>  Preparing: update b_urs_earnings_relation set parent_uid = ? where uid = ? and object_oriented = ? 
[DEBUG] 2017-09-12 11:05:34,419 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==> Parameters: 606770(Integer), 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:05:34,473 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120004} enter cache
[DEBUG] 2017-09-12 11:05:34,473 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,473 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1] from current transaction
[DEBUG] 2017-09-12 11:05:34,474 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:05:34,474 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ==>  Preparing: delete from b_urs_earnings_relation_chain where object_oriented = 9 and uid in ( ? ) and parent_id in ( ? , ? ) 
[DEBUG] 2017-09-12 11:05:34,475 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ==> Parameters: 607795(Integer), 606481(Integer), 607114(Integer)
[DEBUG] 2017-09-12 11:05:34,497 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120005} enter cache
[DEBUG] 2017-09-12 11:05:34,498 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,498 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1] from current transaction
[DEBUG] 2017-09-12 11:05:34,499 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:05:34,499 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==>  Preparing: INSERT INTO b_urs_earnings_relation_chain ( uid, object_oriented, parent_id ) VALUES ( ?, ?, ? ) 
[DEBUG] 2017-09-12 11:05:34,501 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==> Parameters: 607795(Long), 9(Integer), 606770(Long)
[DEBUG] 2017-09-12 11:05:34,520 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120006} enter cache
[DEBUG] 2017-09-12 11:05:34,521 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,521 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1] from current transaction
[DEBUG] 2017-09-12 11:05:34,521 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:05:34,521 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==>  Preparing: update b_urs_earnings_relation set uid_relation_chain_level = uid_relation_chain_level+? where object_oriented = 9 and uid in ( ? ) 
[DEBUG] 2017-09-12 11:05:34,522 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==> Parameters: -1(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:05:34,540 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120007} enter cache
[DEBUG] 2017-09-12 11:05:34,541 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,541 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1] from current transaction
[DEBUG] 2017-09-12 11:05:34,542 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:05:34,543 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==>  Preparing: update b_manor_info SET uid = ?, super_uid = ?, branch_location = ? where uid = ? 
[DEBUG] 2017-09-12 11:05:34,543 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==> Parameters: 607795(Integer), 606770(Integer), 0(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:05:34,561 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120008} enter cache
[DEBUG] 2017-09-12 11:05:34,561 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,561 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:05:34,561 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:05:34,562 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,562 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1f76d1]
[DEBUG] 2017-09-12 11:05:34,562 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:05:34,563 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:05:34,563 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[WARN] 2017-09-12 11:05:34,585 org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer - Got an IOException in internalRead!
java.io.IOException: 您的主机中的软件中止了一个已建立的连接。
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:197)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:379)
	at org.apache.thrift.transport.TNonblockingSocket.read(TNonblockingSocket.java:141)
	at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.internalRead(AbstractNonblockingServer.java:537)
	at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.read(AbstractNonblockingServer.java:338)
	at org.apache.thrift.server.AbstractNonblockingServer$AbstractSelectThread.handleRead(AbstractNonblockingServer.java:203)
	at org.apache.thrift.server.TThreadedSelectorServer$SelectorThread.select(TThreadedSelectorServer.java:580)
	at org.apache.thrift.server.TThreadedSelectorServer$SelectorThread.run(TThreadedSelectorServer.java:540)
[DEBUG] 2017-09-12 11:05:38,745 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:05:39,853 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:06:05,600 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:06:05,890 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:06:28,616 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:06:35,076 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:06:35,076 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46e75835] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:06:35,077 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:06:35,078 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:06:35,078 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:35,078 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:06:35,078 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607783(Integer)
[DEBUG] 2017-09-12 11:06:35,083 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46e75835]
[DEBUG] 2017-09-12 11:06:35,083 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:06:35,094 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:06:43,141 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:06:43,141 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730c148a] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:06:43,142 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:06:43,142 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:06:43,142 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,142 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:06:43,142 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:06:43,146 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730c148a]
[DEBUG] 2017-09-12 11:06:43,146 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:06:43,146 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:06:43,146 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e18ab08] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:06:43,146 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:06:43,146 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:06:43,147 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,147 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==>  Preparing: select b1.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch b2 ON b1.zid = b2.zid WHERE b2.uid = ? and b2.location = ? order by b1.level desc limit 1 
[DEBUG] 2017-09-12 11:06:43,147 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==> Parameters: 607543(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:06:43,149 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e18ab08]
[DEBUG] 2017-09-12 11:06:43,150 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:06:43,150 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorFlowerService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:06:43,150 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:06:43,150 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:06:43,151 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:06:43,151 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,151 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will be managed by Spring
[DEBUG] 2017-09-12 11:06:43,151 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,151 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ?; 
[DEBUG] 2017-09-12 11:06:43,151 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:06:43,153 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,153 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,154 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,154 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==>  Preparing: select id, parent_id, uid, location, level, zid from t_manor_flower_branch where id = ? 
[DEBUG] 2017-09-12 11:06:43,154 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==> Parameters: 06b4f6c936b64bb48358a96386eb3ad7(String)
[DEBUG] 2017-09-12 11:06:43,155 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,156 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,156 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,156 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:06:43,156 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:06:43,159 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,159 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,159 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,159 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:06:43,159 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 607543(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:06:43,162 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,162 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,162 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,162 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:06:43,163 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 607795(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:06:43,165 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,166 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,166 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,166 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==>  Preparing: update t_manor_flower_branch set zid = ? where zid = ? and location = 0 and id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:06:43,167 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==> Parameters: d3eaa52dd723427088470ddec10a696b(String), 06b4f6c936b64bb48358a96386eb3ad7(String), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:06:43,169 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,169 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,170 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,170 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==>  Preparing: update t_manor_flower_branch set level = level+? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:06:43,170 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==> Parameters: 3(Integer), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:06:43,172 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,172 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,172 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,172 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:06:43,173 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), d3eaa52dd723427088470ddec10a696b(String)
[DEBUG] 2017-09-12 11:06:43,175 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,175 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,175 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,175 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:06:43,176 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), d3eaa52dd723427088470ddec10a696b(String)
[DEBUG] 2017-09-12 11:06:43,177 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,177 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,178 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,178 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:06:43,178 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), d3eaa52dd723427088470ddec10a696b(String)
[DEBUG] 2017-09-12 11:06:43,179 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,180 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,180 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,180 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==>  Preparing: update t_manor_flower_branch set parent_id = ? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:06:43,181 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==> Parameters: d3eaa52dd723427088470ddec10a696b(String), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:06:43,182 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,182 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,183 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,183 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==>  Preparing: update t_manor_flower set branch_id = ? where type = 1 and florist_uid not in ( ? , ? , ? ) and branch_id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:06:43,184 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==> Parameters: 06b4f6c936b64bb48358a96386eb3ad7(String), 607795(Integer), 607795(Integer), 607795(Integer), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:06:43,186 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,189 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7] from current transaction
[DEBUG] 2017-09-12 11:06:43,189 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,190 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==>  Preparing: update t_manor_flower set branch_id = ?,florist_uid = ? where uid = ? 
[DEBUG] 2017-09-12 11:06:43,190 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==> Parameters: d3eaa52dd723427088470ddec10a696b(String), 607543(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:06:43,193 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,193 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:06:43,193 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,216 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,216 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6584a9a7]
[DEBUG] 2017-09-12 11:06:43,218 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:06:43,218 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:06:43,218 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorInfoService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:06:43,218 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:06:43,218 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:06:43,220 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:06:43,220 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,220 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:06:43,221 org.springframework.jdbc.datasource.DataSourceUtils - Registering transaction synchronization for JDBC Connection
[DEBUG] 2017-09-12 11:06:43,221 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3] will be managed by Spring
[DEBUG] 2017-09-12 11:06:43,221 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:06:43,222 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:06:43,222 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:06:43,224 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,224 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042] from current transaction
[DEBUG] 2017-09-12 11:06:43,225 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:06:43,225 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:06:43,225 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 607543(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:06:43,228 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,228 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042] from current transaction
[DEBUG] 2017-09-12 11:06:43,228 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:06:43,229 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==>  Preparing: select uid from b_urs_earnings_relation_chain where parent_id = ? and object_oriented = 9 
[DEBUG] 2017-09-12 11:06:43,229 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:06:43,231 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,231 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042] from current transaction
[DEBUG] 2017-09-12 11:06:43,231 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:06:43,232 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:06:43,232 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 607543(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:06:43,235 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,235 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042] from current transaction
[DEBUG] 2017-09-12 11:06:43,236 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:06:43,236 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:06:43,236 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:06:43,238 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,239 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042] from current transaction
[DEBUG] 2017-09-12 11:06:43,239 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:06:43,239 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==>  Preparing: update b_urs_earnings_relation set parent_uid = ? where uid = ? and object_oriented = ? 
[DEBUG] 2017-09-12 11:06:43,239 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==> Parameters: 607543(Integer), 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:06:43,275 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,275 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042] from current transaction
[DEBUG] 2017-09-12 11:06:43,275 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:06:43,276 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ==>  Preparing: delete from b_urs_earnings_relation_chain where object_oriented = 9 and uid in ( ? ) and parent_id in ( ? ) 
[DEBUG] 2017-09-12 11:06:43,277 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ==> Parameters: 607795(Integer), 606770(Integer)
[DEBUG] 2017-09-12 11:06:43,299 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120009} enter cache
[DEBUG] 2017-09-12 11:06:43,299 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,299 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042] from current transaction
[DEBUG] 2017-09-12 11:06:43,300 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:06:43,300 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==>  Preparing: INSERT INTO b_urs_earnings_relation_chain ( uid, object_oriented, parent_id ) VALUES ( ?, ?, ? ) , ( ?, ?, ? ) , ( ?, ?, ? ) , ( ?, ?, ? ) 
[DEBUG] 2017-09-12 11:06:43,301 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==> Parameters: 607795(Long), 9(Integer), 607120(Long), 607795(Long), 9(Integer), 607122(Long), 607795(Long), 9(Integer), 607286(Long), 607795(Long), 9(Integer), 607543(Long)
[DEBUG] 2017-09-12 11:06:43,323 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120010} enter cache
[DEBUG] 2017-09-12 11:06:43,323 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,323 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042] from current transaction
[DEBUG] 2017-09-12 11:06:43,323 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:06:43,324 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==>  Preparing: update b_urs_earnings_relation set uid_relation_chain_level = uid_relation_chain_level+? where object_oriented = 9 and uid in ( ? ) 
[DEBUG] 2017-09-12 11:06:43,324 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==> Parameters: 7(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:06:43,343 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,343 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042] from current transaction
[DEBUG] 2017-09-12 11:06:43,344 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:06:43,344 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==>  Preparing: update b_manor_info SET uid = ?, super_uid = ?, branch_location = ? where uid = ? 
[DEBUG] 2017-09-12 11:06:43,344 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==> Parameters: 607795(Integer), 607543(Integer), 1(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:06:43,362 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,362 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:06:43,362 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:06:43,363 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,363 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6db17042]
[DEBUG] 2017-09-12 11:06:43,363 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:06:43,364 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:06:43,364 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:06:57,541 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:07:00,147 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:07:04,513 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:07:04,513 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6581df06] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:07:04,513 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:07:04,513 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:07:04,513 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,514 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:07:04,514 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 604908(Integer)
[DEBUG] 2017-09-12 11:07:04,517 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6581df06]
[DEBUG] 2017-09-12 11:07:04,517 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:07:04,518 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:07:04,518 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@315936fa] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:07:04,518 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:07:04,518 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:07:04,518 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,518 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==>  Preparing: select b1.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch b2 ON b1.zid = b2.zid WHERE b2.uid = ? and b2.location = ? order by b1.level desc limit 1 
[DEBUG] 2017-09-12 11:07:04,519 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==> Parameters: 599132(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:07:04,521 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@315936fa]
[DEBUG] 2017-09-12 11:07:04,522 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:07:04,522 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorFlowerService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:07:04,522 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:07:04,522 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:07:04,523 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:07:04,523 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,523 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will be managed by Spring
[DEBUG] 2017-09-12 11:07:04,523 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,523 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ?; 
[DEBUG] 2017-09-12 11:07:04,524 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==> Parameters: 604908(Integer)
[DEBUG] 2017-09-12 11:07:04,527 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,527 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,527 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,527 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==>  Preparing: select id, parent_id, uid, location, level, zid from t_manor_flower_branch where id = ? 
[DEBUG] 2017-09-12 11:07:04,527 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==> Parameters: f291853cb9b2421899d4f5811fe6b5e1(String)
[DEBUG] 2017-09-12 11:07:04,529 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,529 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,530 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,530 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:07:04,530 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 604908(Integer)
[DEBUG] 2017-09-12 11:07:04,532 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,533 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,533 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,533 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:07:04,533 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 599132(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:07:04,536 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,536 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,537 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,537 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:07:04,537 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 604908(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:07:04,539 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,539 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,540 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,540 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==>  Preparing: update t_manor_flower_branch set zid = ? where zid = ? and location = 0 and id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:07:04,540 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==> Parameters: 65904f870d904a44a1dd143ff0a4c62f(String), f291853cb9b2421899d4f5811fe6b5e1(String), f291853cb9b2421899d4f5811fe6b5e1(String), 9bc596bd69ea4ee3ac50b0da7d49778e(String), d051ce149a6d4ebd98ec4ede1f69f896(String)
[DEBUG] 2017-09-12 11:07:04,542 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,542 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,542 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,543 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==>  Preparing: update t_manor_flower_branch set level = level+? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:07:04,543 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==> Parameters: 3(Integer), f291853cb9b2421899d4f5811fe6b5e1(String), 9bc596bd69ea4ee3ac50b0da7d49778e(String), d051ce149a6d4ebd98ec4ede1f69f896(String)
[DEBUG] 2017-09-12 11:07:04,544 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,544 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,544 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,544 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:07:04,545 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: f291853cb9b2421899d4f5811fe6b5e1(String), 65904f870d904a44a1dd143ff0a4c62f(String)
[DEBUG] 2017-09-12 11:07:04,546 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,546 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,546 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,546 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:07:04,547 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 9bc596bd69ea4ee3ac50b0da7d49778e(String), 65904f870d904a44a1dd143ff0a4c62f(String)
[DEBUG] 2017-09-12 11:07:04,548 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,548 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,548 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,548 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:07:04,548 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: d051ce149a6d4ebd98ec4ede1f69f896(String), 65904f870d904a44a1dd143ff0a4c62f(String)
[DEBUG] 2017-09-12 11:07:04,550 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,550 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,550 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,551 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==>  Preparing: update t_manor_flower_branch set parent_id = ? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:07:04,551 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==> Parameters: 65904f870d904a44a1dd143ff0a4c62f(String), f291853cb9b2421899d4f5811fe6b5e1(String), 9bc596bd69ea4ee3ac50b0da7d49778e(String), d051ce149a6d4ebd98ec4ede1f69f896(String)
[DEBUG] 2017-09-12 11:07:04,552 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,552 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,553 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,553 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==>  Preparing: update t_manor_flower set branch_id = ? where type = 1 and florist_uid not in ( ? , ? , ? ) and branch_id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:07:04,554 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==> Parameters: f291853cb9b2421899d4f5811fe6b5e1(String), 604908(Integer), 604908(Integer), 604908(Integer), f291853cb9b2421899d4f5811fe6b5e1(String), 9bc596bd69ea4ee3ac50b0da7d49778e(String), d051ce149a6d4ebd98ec4ede1f69f896(String)
[DEBUG] 2017-09-12 11:07:04,557 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,557 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065] from current transaction
[DEBUG] 2017-09-12 11:07:04,557 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,557 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==>  Preparing: update t_manor_flower set branch_id = ?,florist_uid = ? where uid = ? 
[DEBUG] 2017-09-12 11:07:04,557 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==> Parameters: 65904f870d904a44a1dd143ff0a4c62f(String), 599132(Integer), 604908(Integer)
[DEBUG] 2017-09-12 11:07:04,559 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,561 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
[DEBUG] 2017-09-12 11:07:04,561 org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:04,587 org.mybatis.spring.SqlSessionUtils - Transaction synchronization rolling back SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,587 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58287065]
[DEBUG] 2017-09-12 11:07:04,588 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:07:04,588 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[ERROR] 2017-09-12 11:07:04,591 org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer - Unexpected throwable while invoking!
java.lang.AssertionError: expected:<0> but was:<1>
	at org.junit.Assert.fail(Assert.java:93)
	at org.junit.Assert.failNotEquals(Assert.java:647)
	at org.junit.Assert.assertEquals(Assert.java:128)
	at org.junit.Assert.assertEquals(Assert.java:472)
	at org.junit.Assert.assertEquals(Assert.java:456)
	at com.xmniao.service.manor.ManorFlowerService.BindingParent(ManorFlowerService.java:701)
	at com.xmniao.service.manor.ManorFlowerService$$FastClassBySpringCGLIB$$9269c50a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:267)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at com.xmniao.service.manor.ManorFlowerService$$EnhancerBySpringCGLIB$$157745b2.BindingParent(<generated>)
	at com.xmniao.service.manor.ThriftManorServiceImpl.flowerChainBindingParent(ThriftManorServiceImpl.java:539)
	at com.xmniao.thrift.busine.manor.ManorService$Processor$flowerChainBindingParent.getResult(ManorService.java:1058)
	at com.xmniao.thrift.busine.manor.ManorService$Processor$flowerChainBindingParent.getResult(ManorService.java:1)
	at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)
	at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)
	at org.apache.thrift.TMultiplexedProcessor.process(TMultiplexedProcessor.java:123)
	at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.invoke(AbstractNonblockingServer.java:516)
	at org.apache.thrift.server.Invocation.run(Invocation.java:18)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
[DEBUG] 2017-09-12 11:07:21,800 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:07:21,846 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:07:21,846 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318b1bf5] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:07:21,846 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:07:21,847 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:07:21,847 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,847 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:07:21,847 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 606483(Integer)
[DEBUG] 2017-09-12 11:07:21,850 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318b1bf5]
[DEBUG] 2017-09-12 11:07:21,850 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:07:21,850 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:07:21,850 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d88b3c] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:07:21,850 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:07:21,850 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:07:21,850 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,851 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==>  Preparing: select b1.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch b2 ON b1.zid = b2.zid WHERE b2.uid = ? and b2.location = ? order by b1.level desc limit 1 
[DEBUG] 2017-09-12 11:07:21,851 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==> Parameters: 605959(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:07:21,853 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23d88b3c]
[DEBUG] 2017-09-12 11:07:21,853 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:07:21,853 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorFlowerService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:07:21,854 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:07:21,854 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:07:21,856 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:07:21,856 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,856 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will be managed by Spring
[DEBUG] 2017-09-12 11:07:21,856 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,856 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ?; 
[DEBUG] 2017-09-12 11:07:21,857 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==> Parameters: 606483(Integer)
[DEBUG] 2017-09-12 11:07:21,860 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,860 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,860 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,860 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==>  Preparing: select id, parent_id, uid, location, level, zid from t_manor_flower_branch where id = ? 
[DEBUG] 2017-09-12 11:07:21,860 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==> Parameters: 4633ee9725bf4e558645af205d62604d(String)
[DEBUG] 2017-09-12 11:07:21,862 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,862 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,862 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,863 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:07:21,863 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 606483(Integer)
[DEBUG] 2017-09-12 11:07:21,865 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,866 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,866 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,866 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:07:21,866 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 605959(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:07:21,868 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,868 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,868 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,869 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:07:21,869 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 606483(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:07:21,870 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,870 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,871 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,871 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==>  Preparing: update t_manor_flower_branch set zid = ? where zid = ? and location = 0 and id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:07:21,871 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==> Parameters: 93e492d54ac94d92b8f2ed6482ab1cec(String), 4633ee9725bf4e558645af205d62604d(String), 4633ee9725bf4e558645af205d62604d(String), 0ad291c626174b2da07b090f661a4a20(String), 685d863895c549d0ab07a4a60cf56012(String)
[DEBUG] 2017-09-12 11:07:21,873 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,873 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,873 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,873 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==>  Preparing: update t_manor_flower_branch set level = level+? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:07:21,874 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==> Parameters: 5(Integer), 4633ee9725bf4e558645af205d62604d(String), 0ad291c626174b2da07b090f661a4a20(String), 685d863895c549d0ab07a4a60cf56012(String)
[DEBUG] 2017-09-12 11:07:21,875 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,875 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,876 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,876 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:07:21,876 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 4633ee9725bf4e558645af205d62604d(String), 93e492d54ac94d92b8f2ed6482ab1cec(String)
[DEBUG] 2017-09-12 11:07:21,877 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,878 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,878 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,878 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:07:21,878 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 0ad291c626174b2da07b090f661a4a20(String), 93e492d54ac94d92b8f2ed6482ab1cec(String)
[DEBUG] 2017-09-12 11:07:21,879 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,880 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,880 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,880 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:07:21,880 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 685d863895c549d0ab07a4a60cf56012(String), 93e492d54ac94d92b8f2ed6482ab1cec(String)
[DEBUG] 2017-09-12 11:07:21,882 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,882 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,882 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,882 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==>  Preparing: update t_manor_flower_branch set parent_id = ? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:07:21,882 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==> Parameters: 93e492d54ac94d92b8f2ed6482ab1cec(String), 4633ee9725bf4e558645af205d62604d(String), 0ad291c626174b2da07b090f661a4a20(String), 685d863895c549d0ab07a4a60cf56012(String)
[DEBUG] 2017-09-12 11:07:21,883 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,884 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,884 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,884 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==>  Preparing: update t_manor_flower set branch_id = ? where type = 1 and florist_uid not in ( ? , ? , ? ) and branch_id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:07:21,884 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==> Parameters: 4633ee9725bf4e558645af205d62604d(String), 606483(Integer), 606483(Integer), 606483(Integer), 4633ee9725bf4e558645af205d62604d(String), 0ad291c626174b2da07b090f661a4a20(String), 685d863895c549d0ab07a4a60cf56012(String)
[DEBUG] 2017-09-12 11:07:21,888 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,888 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286] from current transaction
[DEBUG] 2017-09-12 11:07:21,888 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,888 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==>  Preparing: update t_manor_flower set branch_id = ?,florist_uid = ? where uid = ? 
[DEBUG] 2017-09-12 11:07:21,889 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==> Parameters: 93e492d54ac94d92b8f2ed6482ab1cec(String), 605959(Integer), 606483(Integer)
[DEBUG] 2017-09-12 11:07:21,890 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,891 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
[DEBUG] 2017-09-12 11:07:21,891 org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:07:21,919 org.mybatis.spring.SqlSessionUtils - Transaction synchronization rolling back SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,919 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9d2286]
[DEBUG] 2017-09-12 11:07:21,921 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:07:21,921 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[ERROR] 2017-09-12 11:07:21,923 org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer - Unexpected throwable while invoking!
java.lang.AssertionError: expected:<0> but was:<1>
	at org.junit.Assert.fail(Assert.java:93)
	at org.junit.Assert.failNotEquals(Assert.java:647)
	at org.junit.Assert.assertEquals(Assert.java:128)
	at org.junit.Assert.assertEquals(Assert.java:472)
	at org.junit.Assert.assertEquals(Assert.java:456)
	at com.xmniao.service.manor.ManorFlowerService.BindingParent(ManorFlowerService.java:701)
	at com.xmniao.service.manor.ManorFlowerService$$FastClassBySpringCGLIB$$9269c50a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:267)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at com.xmniao.service.manor.ManorFlowerService$$EnhancerBySpringCGLIB$$157745b2.BindingParent(<generated>)
	at com.xmniao.service.manor.ThriftManorServiceImpl.flowerChainBindingParent(ThriftManorServiceImpl.java:539)
	at com.xmniao.thrift.busine.manor.ManorService$Processor$flowerChainBindingParent.getResult(ManorService.java:1058)
	at com.xmniao.thrift.busine.manor.ManorService$Processor$flowerChainBindingParent.getResult(ManorService.java:1)
	at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)
	at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)
	at org.apache.thrift.TMultiplexedProcessor.process(TMultiplexedProcessor.java:123)
	at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.invoke(AbstractNonblockingServer.java:516)
	at org.apache.thrift.server.Invocation.run(Invocation.java:18)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
[DEBUG] 2017-09-12 11:07:27,543 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:07:50,618 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:07:51,028 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:08:14,996 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:08:19,301 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:08:42,314 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:08:42,838 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:09:09,411 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:09:09,433 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:09:36,425 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:09:38,240 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:10:00,940 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:10:03,530 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:10:25,448 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:10:29,102 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:10:48,610 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:10:52,331 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:11:18,167 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:11:19,094 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:11:43,874 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:11:47,912 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:12:08,001 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:12:11,307 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:12:32,213 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:12:32,968 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:12:32,968 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ef12024] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:12:32,968 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:12:32,970 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:12:32,970 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:32,970 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:12:32,970 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 606537(Integer)
[DEBUG] 2017-09-12 11:12:32,974 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ef12024]
[DEBUG] 2017-09-12 11:12:32,974 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:12:32,974 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:12:32,975 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68752b5a] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:12:32,975 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:12:32,975 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:12:32,975 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:32,975 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==>  Preparing: select b1.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch b2 ON b1.zid = b2.zid WHERE b2.uid = ? and b2.location = ? order by b1.level desc limit 1 
[DEBUG] 2017-09-12 11:12:32,975 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==> Parameters: 607723(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:12:32,979 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68752b5a]
[DEBUG] 2017-09-12 11:12:32,979 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:12:32,979 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorFlowerService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:12:32,979 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:12:32,979 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:12:32,981 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:12:32,981 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:32,981 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will be managed by Spring
[DEBUG] 2017-09-12 11:12:32,981 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:32,981 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ?; 
[DEBUG] 2017-09-12 11:12:32,982 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==> Parameters: 606537(Integer)
[DEBUG] 2017-09-12 11:12:32,985 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:32,985 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:32,985 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:32,985 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==>  Preparing: select id, parent_id, uid, location, level, zid from t_manor_flower_branch where id = ? 
[DEBUG] 2017-09-12 11:12:32,985 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==> Parameters: 4f003fe51d6c4370844ca8f8c420650a(String)
[DEBUG] 2017-09-12 11:12:32,987 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:32,988 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:32,988 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:32,988 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:12:32,988 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 606537(Integer)
[DEBUG] 2017-09-12 11:12:32,991 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:32,992 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:32,992 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:32,992 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:12:32,992 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 607723(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:12:32,995 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:32,995 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:32,995 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:32,995 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:12:32,995 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 606537(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:12:32,997 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:32,997 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:32,998 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:32,998 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==>  Preparing: update t_manor_flower_branch set zid = ? where zid = ? and location = 0 and id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:12:32,998 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==> Parameters: 66a00180b3234fd4ae944dc934d66bae(String), 4f003fe51d6c4370844ca8f8c420650a(String), 4f003fe51d6c4370844ca8f8c420650a(String), 73e0db5f78454878a3416e82f00067a0(String), c08ded4840ae4334b762f1a26fbfeaba(String)
[DEBUG] 2017-09-12 11:12:32,999 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:33,000 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:33,000 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:33,000 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==>  Preparing: update t_manor_flower_branch set level = level+? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:12:33,000 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==> Parameters: 1(Integer), 4f003fe51d6c4370844ca8f8c420650a(String), 73e0db5f78454878a3416e82f00067a0(String), c08ded4840ae4334b762f1a26fbfeaba(String)
[DEBUG] 2017-09-12 11:12:33,001 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:33,002 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:33,002 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:33,002 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:12:33,002 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 4f003fe51d6c4370844ca8f8c420650a(String), 66a00180b3234fd4ae944dc934d66bae(String)
[DEBUG] 2017-09-12 11:12:33,005 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:33,005 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:33,006 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:33,006 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:12:33,006 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 73e0db5f78454878a3416e82f00067a0(String), 66a00180b3234fd4ae944dc934d66bae(String)
[DEBUG] 2017-09-12 11:12:33,008 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:33,008 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:33,008 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:33,008 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:12:33,008 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: c08ded4840ae4334b762f1a26fbfeaba(String), 66a00180b3234fd4ae944dc934d66bae(String)
[DEBUG] 2017-09-12 11:12:33,010 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:33,010 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:33,010 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:33,011 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==>  Preparing: update t_manor_flower_branch set parent_id = ? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:12:33,011 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==> Parameters: 66a00180b3234fd4ae944dc934d66bae(String), 4f003fe51d6c4370844ca8f8c420650a(String), 73e0db5f78454878a3416e82f00067a0(String), c08ded4840ae4334b762f1a26fbfeaba(String)
[DEBUG] 2017-09-12 11:12:33,013 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:33,013 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:33,013 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:33,013 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==>  Preparing: update t_manor_flower set branch_id = ? where type = 1 and florist_uid not in ( ? , ? , ? ) and branch_id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:12:33,014 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==> Parameters: 4f003fe51d6c4370844ca8f8c420650a(String), 606537(Integer), 606537(Integer), 606537(Integer), 4f003fe51d6c4370844ca8f8c420650a(String), 73e0db5f78454878a3416e82f00067a0(String), c08ded4840ae4334b762f1a26fbfeaba(String)
[DEBUG] 2017-09-12 11:12:33,029 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:33,029 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749] from current transaction
[DEBUG] 2017-09-12 11:12:33,029 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:33,030 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==>  Preparing: update t_manor_flower set branch_id = ?,florist_uid = ? where uid = ? 
[DEBUG] 2017-09-12 11:12:33,030 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==> Parameters: 66a00180b3234fd4ae944dc934d66bae(String), 607723(Integer), 606537(Integer)
[DEBUG] 2017-09-12 11:12:33,032 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:33,035 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
[DEBUG] 2017-09-12 11:12:33,035 org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:33,062 org.mybatis.spring.SqlSessionUtils - Transaction synchronization rolling back SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:33,062 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64715749]
[DEBUG] 2017-09-12 11:12:33,063 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:12:33,063 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[ERROR] 2017-09-12 11:12:33,065 org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer - Unexpected throwable while invoking!
java.lang.AssertionError: expected:<0> but was:<1>
	at org.junit.Assert.fail(Assert.java:93)
	at org.junit.Assert.failNotEquals(Assert.java:647)
	at org.junit.Assert.assertEquals(Assert.java:128)
	at org.junit.Assert.assertEquals(Assert.java:472)
	at org.junit.Assert.assertEquals(Assert.java:456)
	at com.xmniao.service.manor.ManorFlowerService.BindingParent(ManorFlowerService.java:701)
	at com.xmniao.service.manor.ManorFlowerService$$FastClassBySpringCGLIB$$9269c50a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:267)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at com.xmniao.service.manor.ManorFlowerService$$EnhancerBySpringCGLIB$$157745b2.BindingParent(<generated>)
	at com.xmniao.service.manor.ThriftManorServiceImpl.flowerChainBindingParent(ThriftManorServiceImpl.java:539)
	at com.xmniao.thrift.busine.manor.ManorService$Processor$flowerChainBindingParent.getResult(ManorService.java:1058)
	at com.xmniao.thrift.busine.manor.ManorService$Processor$flowerChainBindingParent.getResult(ManorService.java:1)
	at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)
	at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)
	at org.apache.thrift.TMultiplexedProcessor.process(TMultiplexedProcessor.java:123)
	at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.invoke(AbstractNonblockingServer.java:516)
	at org.apache.thrift.server.Invocation.run(Invocation.java:18)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
[DEBUG] 2017-09-12 11:12:37,616 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:12:45,095 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:12:45,096 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f357ab4] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:12:45,096 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:12:45,096 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:12:45,096 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,096 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:12:45,097 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 606483(Integer)
[DEBUG] 2017-09-12 11:12:45,099 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f357ab4]
[DEBUG] 2017-09-12 11:12:45,100 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:12:45,100 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:12:45,100 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@500adfd7] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:12:45,100 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:12:45,100 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:12:45,100 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,101 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==>  Preparing: select b1.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch b2 ON b1.zid = b2.zid WHERE b2.uid = ? and b2.location = ? order by b1.level desc limit 1 
[DEBUG] 2017-09-12 11:12:45,101 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==> Parameters: 606773(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:12:45,103 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@500adfd7]
[DEBUG] 2017-09-12 11:12:45,103 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:12:45,104 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorFlowerService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:12:45,104 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:12:45,104 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:12:45,105 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:12:45,106 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,106 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will be managed by Spring
[DEBUG] 2017-09-12 11:12:45,106 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,106 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ?; 
[DEBUG] 2017-09-12 11:12:45,106 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==> Parameters: 606483(Integer)
[DEBUG] 2017-09-12 11:12:45,110 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,110 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,110 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,110 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==>  Preparing: select id, parent_id, uid, location, level, zid from t_manor_flower_branch where id = ? 
[DEBUG] 2017-09-12 11:12:45,111 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==> Parameters: 4633ee9725bf4e558645af205d62604d(String)
[DEBUG] 2017-09-12 11:12:45,113 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,113 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,113 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,113 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:12:45,114 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 606483(Integer)
[DEBUG] 2017-09-12 11:12:45,116 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,116 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,117 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,117 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:12:45,117 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 606773(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:12:45,119 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,119 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,119 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,120 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:12:45,120 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 606483(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:12:45,122 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,122 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,122 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,123 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==>  Preparing: update t_manor_flower_branch set zid = ? where zid = ? and location = 0 and id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:12:45,123 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==> Parameters: 87e0c5324bcc411a8b91de541b3e8634(String), 4633ee9725bf4e558645af205d62604d(String), 4633ee9725bf4e558645af205d62604d(String), 0ad291c626174b2da07b090f661a4a20(String), 685d863895c549d0ab07a4a60cf56012(String)
[DEBUG] 2017-09-12 11:12:45,124 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,125 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,125 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,125 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==>  Preparing: update t_manor_flower_branch set level = level+? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:12:45,125 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==> Parameters: 5(Integer), 4633ee9725bf4e558645af205d62604d(String), 0ad291c626174b2da07b090f661a4a20(String), 685d863895c549d0ab07a4a60cf56012(String)
[DEBUG] 2017-09-12 11:12:45,126 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,126 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,126 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,127 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:12:45,127 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 4633ee9725bf4e558645af205d62604d(String), 87e0c5324bcc411a8b91de541b3e8634(String)
[DEBUG] 2017-09-12 11:12:45,129 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,129 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,130 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,130 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:12:45,130 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 0ad291c626174b2da07b090f661a4a20(String), 87e0c5324bcc411a8b91de541b3e8634(String)
[DEBUG] 2017-09-12 11:12:45,132 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,133 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,133 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,133 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:12:45,133 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 685d863895c549d0ab07a4a60cf56012(String), 87e0c5324bcc411a8b91de541b3e8634(String)
[DEBUG] 2017-09-12 11:12:45,135 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,135 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,135 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,135 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==>  Preparing: update t_manor_flower_branch set parent_id = ? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:12:45,136 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==> Parameters: 87e0c5324bcc411a8b91de541b3e8634(String), 4633ee9725bf4e558645af205d62604d(String), 0ad291c626174b2da07b090f661a4a20(String), 685d863895c549d0ab07a4a60cf56012(String)
[DEBUG] 2017-09-12 11:12:45,138 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,138 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,138 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,139 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==>  Preparing: update t_manor_flower set branch_id = ? where type = 1 and florist_uid not in ( ? , ? , ? ) and branch_id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:12:45,139 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==> Parameters: 4633ee9725bf4e558645af205d62604d(String), 606483(Integer), 606483(Integer), 606483(Integer), 4633ee9725bf4e558645af205d62604d(String), 0ad291c626174b2da07b090f661a4a20(String), 685d863895c549d0ab07a4a60cf56012(String)
[DEBUG] 2017-09-12 11:12:45,141 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,141 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e] from current transaction
[DEBUG] 2017-09-12 11:12:45,141 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,141 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==>  Preparing: update t_manor_flower set branch_id = ?,florist_uid = ? where uid = ? 
[DEBUG] 2017-09-12 11:12:45,142 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==> Parameters: 87e0c5324bcc411a8b91de541b3e8634(String), 606773(Integer), 606483(Integer)
[DEBUG] 2017-09-12 11:12:45,143 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,146 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
[DEBUG] 2017-09-12 11:12:45,146 org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:12:45,169 org.mybatis.spring.SqlSessionUtils - Transaction synchronization rolling back SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,169 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79edc54e]
[DEBUG] 2017-09-12 11:12:45,171 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:12:45,171 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[ERROR] 2017-09-12 11:12:45,174 org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer - Unexpected throwable while invoking!
java.lang.AssertionError: expected:<0> but was:<1>
	at org.junit.Assert.fail(Assert.java:93)
	at org.junit.Assert.failNotEquals(Assert.java:647)
	at org.junit.Assert.assertEquals(Assert.java:128)
	at org.junit.Assert.assertEquals(Assert.java:472)
	at org.junit.Assert.assertEquals(Assert.java:456)
	at com.xmniao.service.manor.ManorFlowerService.BindingParent(ManorFlowerService.java:701)
	at com.xmniao.service.manor.ManorFlowerService$$FastClassBySpringCGLIB$$9269c50a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:717)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:267)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:653)
	at com.xmniao.service.manor.ManorFlowerService$$EnhancerBySpringCGLIB$$157745b2.BindingParent(<generated>)
	at com.xmniao.service.manor.ThriftManorServiceImpl.flowerChainBindingParent(ThriftManorServiceImpl.java:539)
	at com.xmniao.thrift.busine.manor.ManorService$Processor$flowerChainBindingParent.getResult(ManorService.java:1058)
	at com.xmniao.thrift.busine.manor.ManorService$Processor$flowerChainBindingParent.getResult(ManorService.java:1)
	at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)
	at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)
	at org.apache.thrift.TMultiplexedProcessor.process(TMultiplexedProcessor.java:123)
	at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.invoke(AbstractNonblockingServer.java:516)
	at org.apache.thrift.server.Invocation.run(Invocation.java:18)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
[DEBUG] 2017-09-12 11:13:00,182 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:13:01,707 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:13:23,279 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:13:30,489 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:13:52,304 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:13:54,347 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:13:54,697 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:13:54,697 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c78dd0] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:13:54,697 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:13:54,698 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:13:54,699 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,699 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:13:54,699 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 606775(Integer)
[DEBUG] 2017-09-12 11:13:54,703 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c78dd0]
[DEBUG] 2017-09-12 11:13:54,703 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:13:54,703 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:13:54,703 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6979800b] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:13:54,704 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:13:54,704 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:13:54,704 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,704 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==>  Preparing: select b1.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch b2 ON b1.zid = b2.zid WHERE b2.uid = ? and b2.location = ? order by b1.level desc limit 1 
[DEBUG] 2017-09-12 11:13:54,704 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==> Parameters: 607543(Integer), 2(Integer)
[DEBUG] 2017-09-12 11:13:54,707 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6979800b]
[DEBUG] 2017-09-12 11:13:54,707 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:13:54,707 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorFlowerService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:13:54,708 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:13:54,708 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:13:54,708 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:13:54,708 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,709 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will be managed by Spring
[DEBUG] 2017-09-12 11:13:54,709 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,709 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ?; 
[DEBUG] 2017-09-12 11:13:54,709 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==> Parameters: 606775(Integer)
[DEBUG] 2017-09-12 11:13:54,714 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,714 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,714 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,714 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==>  Preparing: select id, parent_id, uid, location, level, zid from t_manor_flower_branch where id = ? 
[DEBUG] 2017-09-12 11:13:54,714 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==> Parameters: cee0b43c62c54ed5b5826fbfc2aeca16(String)
[DEBUG] 2017-09-12 11:13:54,717 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,717 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,717 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,717 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:13:54,718 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 606775(Integer)
[DEBUG] 2017-09-12 11:13:54,720 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,720 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,720 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,720 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:13:54,721 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 607543(Integer), 2(Integer)
[DEBUG] 2017-09-12 11:13:54,722 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,722 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,722 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,723 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:13:54,723 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 606775(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:13:54,725 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,726 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,726 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,726 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==>  Preparing: update t_manor_flower_branch set zid = ? where zid = ? and location = 0 and id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:13:54,726 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==> Parameters: 2dee8eba46124c4fa314867bb1405a33(String), cee0b43c62c54ed5b5826fbfc2aeca16(String), cee0b43c62c54ed5b5826fbfc2aeca16(String), 3b2e6a84830a4cf9b1fdbc963f6d3fd7(String), dc697777e60e4dc9a5c8b4d299df350c(String)
[DEBUG] 2017-09-12 11:13:54,727 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,728 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,728 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,728 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==>  Preparing: update t_manor_flower_branch set level = level+? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:13:54,728 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==> Parameters: 4(Integer), cee0b43c62c54ed5b5826fbfc2aeca16(String), 3b2e6a84830a4cf9b1fdbc963f6d3fd7(String), dc697777e60e4dc9a5c8b4d299df350c(String)
[DEBUG] 2017-09-12 11:13:54,730 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,730 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,730 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,731 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:13:54,731 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: cee0b43c62c54ed5b5826fbfc2aeca16(String), 2dee8eba46124c4fa314867bb1405a33(String)
[DEBUG] 2017-09-12 11:13:54,733 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,733 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,733 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,733 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:13:54,734 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 3b2e6a84830a4cf9b1fdbc963f6d3fd7(String), 2dee8eba46124c4fa314867bb1405a33(String)
[DEBUG] 2017-09-12 11:13:54,735 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,735 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,735 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,735 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:13:54,736 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: dc697777e60e4dc9a5c8b4d299df350c(String), 2dee8eba46124c4fa314867bb1405a33(String)
[DEBUG] 2017-09-12 11:13:54,737 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,737 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,737 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,737 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==>  Preparing: update t_manor_flower_branch set parent_id = ? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:13:54,738 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==> Parameters: 2dee8eba46124c4fa314867bb1405a33(String), cee0b43c62c54ed5b5826fbfc2aeca16(String), 3b2e6a84830a4cf9b1fdbc963f6d3fd7(String), dc697777e60e4dc9a5c8b4d299df350c(String)
[DEBUG] 2017-09-12 11:13:54,739 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,739 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,739 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,740 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==>  Preparing: update t_manor_flower set branch_id = ? where type = 1 and florist_uid not in ( ? , ? , ? ) and branch_id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:13:54,740 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==> Parameters: cee0b43c62c54ed5b5826fbfc2aeca16(String), 606775(Integer), 606775(Integer), 606775(Integer), cee0b43c62c54ed5b5826fbfc2aeca16(String), 3b2e6a84830a4cf9b1fdbc963f6d3fd7(String), dc697777e60e4dc9a5c8b4d299df350c(String)
[DEBUG] 2017-09-12 11:13:54,742 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,742 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846] from current transaction
[DEBUG] 2017-09-12 11:13:54,742 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,742 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==>  Preparing: update t_manor_flower set branch_id = ?,florist_uid = ? where uid = ? 
[DEBUG] 2017-09-12 11:13:54,742 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==> Parameters: 2dee8eba46124c4fa314867bb1405a33(String), 607543(Integer), 606775(Integer)
[DEBUG] 2017-09-12 11:13:54,743 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,743 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:13:54,743 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,775 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,775 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27c58846]
[DEBUG] 2017-09-12 11:13:54,776 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:13:54,776 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:13:54,777 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorInfoService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:13:54,777 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:13:54,777 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:13:54,779 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:13:54,780 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,780 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:13:54,782 org.springframework.jdbc.datasource.DataSourceUtils - Registering transaction synchronization for JDBC Connection
[DEBUG] 2017-09-12 11:13:54,782 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3] will be managed by Spring
[DEBUG] 2017-09-12 11:13:54,782 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:13:54,782 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:13:54,783 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 606775(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:13:54,787 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,787 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f] from current transaction
[DEBUG] 2017-09-12 11:13:54,788 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:13:54,788 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:13:54,788 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 607543(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:13:54,793 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,793 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f] from current transaction
[DEBUG] 2017-09-12 11:13:54,793 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:13:54,793 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==>  Preparing: select uid from b_urs_earnings_relation_chain where parent_id = ? and object_oriented = 9 
[DEBUG] 2017-09-12 11:13:54,793 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==> Parameters: 606775(Integer)
[DEBUG] 2017-09-12 11:13:54,795 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,796 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f] from current transaction
[DEBUG] 2017-09-12 11:13:54,796 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:13:54,796 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:13:54,796 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 607543(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:13:54,800 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,800 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f] from current transaction
[DEBUG] 2017-09-12 11:13:54,800 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:13:54,800 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:13:54,800 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 606775(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:13:54,803 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,803 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f] from current transaction
[DEBUG] 2017-09-12 11:13:54,803 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:13:54,803 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==>  Preparing: update b_urs_earnings_relation set parent_uid = ? where uid = ? and object_oriented = ? 
[DEBUG] 2017-09-12 11:13:54,804 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==> Parameters: 607543(Integer), 606775(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:13:54,835 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,836 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f] from current transaction
[DEBUG] 2017-09-12 11:13:54,836 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:13:54,837 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==>  Preparing: INSERT INTO b_urs_earnings_relation_chain ( uid, object_oriented, parent_id ) VALUES ( ?, ?, ? ) , ( ?, ?, ? ) , ( ?, ?, ? ) , ( ?, ?, ? ) 
[DEBUG] 2017-09-12 11:13:54,838 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==> Parameters: 606775(Long), 9(Integer), 607120(Long), 606775(Long), 9(Integer), 607122(Long), 606775(Long), 9(Integer), 607286(Long), 606775(Long), 9(Integer), 607543(Long)
[DEBUG] 2017-09-12 11:13:54,866 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,867 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f] from current transaction
[DEBUG] 2017-09-12 11:13:54,867 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:13:54,868 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==>  Preparing: update b_urs_earnings_relation set uid_relation_chain_level = uid_relation_chain_level+? where object_oriented = 9 and uid in ( ? ) 
[DEBUG] 2017-09-12 11:13:54,869 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==> Parameters: 8(Integer), 606775(Integer)
[DEBUG] 2017-09-12 11:13:54,899 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,899 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f] from current transaction
[DEBUG] 2017-09-12 11:13:54,900 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:13:54,900 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==>  Preparing: update b_manor_info SET uid = ?, super_uid = ?, branch_location = ? where uid = ? 
[DEBUG] 2017-09-12 11:13:54,901 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==> Parameters: 606775(Integer), 607543(Integer), 2(Integer), 606775(Integer)
[DEBUG] 2017-09-12 11:13:54,930 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,930 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:13:54,931 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:13:54,932 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,932 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194677f]
[DEBUG] 2017-09-12 11:13:54,932 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:13:54,933 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:13:54,933 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:14:21,094 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:14:21,936 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:14:47,918 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:14:50,134 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:15:15,107 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:15:16,629 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:15:41,477 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:15:45,080 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:16:07,696 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:16:12,652 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:16:36,058 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:16:41,305 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:17:02,997 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:17:02,997 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cae94e2] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:17:02,997 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:17:02,999 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:17:02,999 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:02,999 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:17:02,999 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:17:03,002 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cae94e2]
[DEBUG] 2017-09-12 11:17:03,002 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:17:03,002 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:17:03,002 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b09858] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:17:03,003 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:17:03,003 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:17:03,003 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:03,003 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==>  Preparing: select b1.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch b2 ON b1.zid = b2.zid WHERE b2.uid = ? and b2.location = ? order by b1.level desc limit 1 
[DEBUG] 2017-09-12 11:17:03,003 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==> Parameters: 607543(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:17:03,005 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b09858]
[DEBUG] 2017-09-12 11:17:03,006 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:17:03,006 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorFlowerService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:17:03,006 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:17:03,006 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:17:05,446 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:17:05,869 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:17:05,872 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:05,875 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will be managed by Spring
[DEBUG] 2017-09-12 11:17:05,875 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:05,877 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ?; 
[DEBUG] 2017-09-12 11:17:05,879 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:17:05,891 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:06,260 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:17:09,389 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:09,390 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:09,390 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==>  Preparing: select id, parent_id, uid, location, level, zid from t_manor_flower_branch where id = ? 
[DEBUG] 2017-09-12 11:17:09,391 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==> Parameters: d3eaa52dd723427088470ddec10a696b(String)
[DEBUG] 2017-09-12 11:17:09,397 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:12,699 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:12,700 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.selectByBranchId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:12,701 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.selectByBranchId - ==>  Preparing: select parent_id from t_manor_flower_branch_chain where branch_id = ? 
[DEBUG] 2017-09-12 11:17:12,703 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.selectByBranchId - ==> Parameters: d3eaa52dd723427088470ddec10a696b(String)
[DEBUG] 2017-09-12 11:17:12,708 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:19,965 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:19,967 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:19,968 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:17:19,970 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:17:19,985 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:20,837 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:20,840 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:20,841 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:17:20,844 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 607543(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:17:20,854 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:21,791 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:21,793 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:21,795 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:17:21,797 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 607795(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:17:21,808 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:23,430 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:23,436 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:23,438 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==>  Preparing: update t_manor_flower_branch set zid = ? where zid = ? and location = 0 and id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:17:23,440 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==> Parameters: 8ab7cfe390be4f46b8e910079b5e75c0(String), d3eaa52dd723427088470ddec10a696b(String), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:17:23,444 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:25,621 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:25,624 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:25,626 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==>  Preparing: update t_manor_flower_branch set level = level+? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:17:25,627 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==> Parameters: 0(Integer), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:17:25,630 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:30,974 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:30,976 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:30,978 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:30,981 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 39483e83ab4f4a169275e107bac7046a(String)
[DEBUG] 2017-09-12 11:17:30,984 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:31,500 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:31,502 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:31,502 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:31,504 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 708c967473d2400cb5e1efe58e31903c(String)
[DEBUG] 2017-09-12 11:17:31,506 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:31,975 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:31,978 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:31,981 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:31,985 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 8ab7cfe390be4f46b8e910079b5e75c0(String)
[DEBUG] 2017-09-12 11:17:31,990 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:32,468 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:32,469 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:32,469 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:32,470 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), d3eaa52dd723427088470ddec10a696b(String)
[DEBUG] 2017-09-12 11:17:32,472 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:32,898 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:17:33,098 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:17:33,279 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:33,282 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:33,284 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:33,288 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 39483e83ab4f4a169275e107bac7046a(String)
[DEBUG] 2017-09-12 11:17:33,292 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:33,804 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:33,805 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:33,805 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:33,806 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 708c967473d2400cb5e1efe58e31903c(String)
[DEBUG] 2017-09-12 11:17:33,808 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:34,320 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:34,323 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:34,325 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:34,329 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 8ab7cfe390be4f46b8e910079b5e75c0(String)
[DEBUG] 2017-09-12 11:17:34,333 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:34,831 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:34,834 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:34,836 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:34,839 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), d3eaa52dd723427088470ddec10a696b(String)
[DEBUG] 2017-09-12 11:17:34,843 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:35,632 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:35,634 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:35,636 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:35,638 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 39483e83ab4f4a169275e107bac7046a(String)
[DEBUG] 2017-09-12 11:17:35,641 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:36,151 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:36,154 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:36,158 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:36,163 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 708c967473d2400cb5e1efe58e31903c(String)
[DEBUG] 2017-09-12 11:17:36,168 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:36,677 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:36,679 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:36,681 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:36,683 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 8ab7cfe390be4f46b8e910079b5e75c0(String)
[DEBUG] 2017-09-12 11:17:36,686 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:37,751 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:37,754 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:37,757 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:17:37,760 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), d3eaa52dd723427088470ddec10a696b(String)
[DEBUG] 2017-09-12 11:17:37,765 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:38,661 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:38,663 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:38,664 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:17:38,668 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 912c53b7ddf34e8e8cf3a9b3bce18ecc(String)
[DEBUG] 2017-09-12 11:17:38,672 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:39,367 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:39,371 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:39,374 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:17:39,379 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 912c53b7ddf34e8e8cf3a9b3bce18ecc(String)
[DEBUG] 2017-09-12 11:17:39,421 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:39,688 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:39,692 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:39,695 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:17:39,700 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 912c53b7ddf34e8e8cf3a9b3bce18ecc(String)
[DEBUG] 2017-09-12 11:17:39,705 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:40,048 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:40,055 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:40,058 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==>  Preparing: update t_manor_flower_branch set parent_id = ? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:17:40,064 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==> Parameters: 912c53b7ddf34e8e8cf3a9b3bce18ecc(String), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:17:40,069 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:41,064 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:41,074 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:41,078 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==>  Preparing: update t_manor_flower set branch_id = ? where type = 1 and florist_uid not in ( ? , ? , ? ) and branch_id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:17:41,084 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==> Parameters: d3eaa52dd723427088470ddec10a696b(String), 607795(Integer), 607795(Integer), 607795(Integer), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:17:41,089 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:41,605 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548] from current transaction
[DEBUG] 2017-09-12 11:17:41,607 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:41,608 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==>  Preparing: update t_manor_flower set branch_id = ?,florist_uid = ? where uid = ? 
[DEBUG] 2017-09-12 11:17:41,609 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==> Parameters: 912c53b7ddf34e8e8cf3a9b3bce18ecc(String), 607543(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:17:41,612 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:43,700 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:17:43,701 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:43,770 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:43,770 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f75c548]
[DEBUG] 2017-09-12 11:17:43,771 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:17:43,771 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:17:43,771 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorInfoService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:17:43,771 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:17:43,771 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:17:43,772 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:17:43,772 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,772 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:17:43,773 org.springframework.jdbc.datasource.DataSourceUtils - Registering transaction synchronization for JDBC Connection
[DEBUG] 2017-09-12 11:17:43,774 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3] will be managed by Spring
[DEBUG] 2017-09-12 11:17:43,774 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:17:43,774 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:17:43,774 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:17:43,777 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,777 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5] from current transaction
[DEBUG] 2017-09-12 11:17:43,777 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:17:43,778 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:17:43,778 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 607543(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:17:43,780 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,780 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5] from current transaction
[DEBUG] 2017-09-12 11:17:43,780 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:17:43,780 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==>  Preparing: select uid from b_urs_earnings_relation_chain where parent_id = ? and object_oriented = 9 
[DEBUG] 2017-09-12 11:17:43,780 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:17:43,782 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,782 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5] from current transaction
[DEBUG] 2017-09-12 11:17:43,782 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:17:43,782 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:17:43,782 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 607543(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:17:43,785 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,786 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5] from current transaction
[DEBUG] 2017-09-12 11:17:43,786 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:17:43,786 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:17:43,786 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:17:43,789 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,789 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5] from current transaction
[DEBUG] 2017-09-12 11:17:43,789 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:17:43,789 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==>  Preparing: update b_urs_earnings_relation set parent_uid = ? where uid = ? and object_oriented = ? 
[DEBUG] 2017-09-12 11:17:43,790 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==> Parameters: 607543(Integer), 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:17:43,819 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,820 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5] from current transaction
[DEBUG] 2017-09-12 11:17:43,820 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:17:43,820 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ==>  Preparing: delete from b_urs_earnings_relation_chain where object_oriented = 9 and uid in ( ? ) and parent_id in ( ? , ? , ? , ? ) 
[DEBUG] 2017-09-12 11:17:43,821 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ==> Parameters: 607795(Integer), 607120(Integer), 607122(Integer), 607286(Integer), 607543(Integer)
[DEBUG] 2017-09-12 11:17:43,846 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120011} enter cache
[DEBUG] 2017-09-12 11:17:43,846 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,846 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5] from current transaction
[DEBUG] 2017-09-12 11:17:43,848 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:17:43,848 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==>  Preparing: INSERT INTO b_urs_earnings_relation_chain ( uid, object_oriented, parent_id ) VALUES ( ?, ?, ? ) , ( ?, ?, ? ) , ( ?, ?, ? ) , ( ?, ?, ? ) 
[DEBUG] 2017-09-12 11:17:43,849 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==> Parameters: 607795(Long), 9(Integer), 607120(Long), 607795(Long), 9(Integer), 607122(Long), 607795(Long), 9(Integer), 607286(Long), 607795(Long), 9(Integer), 607543(Long)
[DEBUG] 2017-09-12 11:17:43,866 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,867 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5] from current transaction
[DEBUG] 2017-09-12 11:17:43,868 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:17:43,868 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==>  Preparing: update b_urs_earnings_relation set uid_relation_chain_level = uid_relation_chain_level+? where object_oriented = 9 and uid in ( ? ) 
[DEBUG] 2017-09-12 11:17:43,869 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==> Parameters: 0(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:17:43,871 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,871 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5] from current transaction
[DEBUG] 2017-09-12 11:17:43,872 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:17:43,872 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==>  Preparing: update b_manor_info SET uid = ?, super_uid = ?, branch_location = ? where uid = ? 
[DEBUG] 2017-09-12 11:17:43,873 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==> Parameters: 607795(Integer), 607543(Integer), 0(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:17:43,890 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,890 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:17:43,890 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:17:43,891 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,891 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b0aa2f5]
[DEBUG] 2017-09-12 11:17:43,891 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:17:43,892 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:17:43,892 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[WARN] 2017-09-12 11:17:43,893 org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer - Got an IOException in internalRead!
java.io.IOException: 您的主机中的软件中止了一个已建立的连接。
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:197)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:379)
	at org.apache.thrift.transport.TNonblockingSocket.read(TNonblockingSocket.java:141)
	at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.internalRead(AbstractNonblockingServer.java:537)
	at org.apache.thrift.server.AbstractNonblockingServer$FrameBuffer.read(AbstractNonblockingServer.java:338)
	at org.apache.thrift.server.AbstractNonblockingServer$AbstractSelectThread.handleRead(AbstractNonblockingServer.java:203)
	at org.apache.thrift.server.TThreadedSelectorServer$SelectorThread.select(TThreadedSelectorServer.java:580)
	at org.apache.thrift.server.TThreadedSelectorServer$SelectorThread.run(TThreadedSelectorServer.java:540)
[DEBUG] 2017-09-12 11:17:57,775 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:18:03,051 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:18:17,299 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:18:17,300 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6b2d63] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:18:17,300 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:18:17,300 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:18:17,300 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,300 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:18:17,301 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:18:17,304 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b6b2d63]
[DEBUG] 2017-09-12 11:18:17,304 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:18:17,304 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:18:17,304 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5970ed78] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:18:17,304 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:18:17,305 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:18:17,305 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,305 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==>  Preparing: select b1.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch b2 ON b1.zid = b2.zid WHERE b2.uid = ? and b2.location = ? order by b1.level desc limit 1 
[DEBUG] 2017-09-12 11:18:17,305 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==> Parameters: 607801(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:18:17,308 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5970ed78]
[DEBUG] 2017-09-12 11:18:17,308 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:18:17,308 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorFlowerService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:18:17,308 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:18:17,309 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:18:17,310 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:18:17,310 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,311 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will be managed by Spring
[DEBUG] 2017-09-12 11:18:17,311 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,311 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ?; 
[DEBUG] 2017-09-12 11:18:17,312 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:18:17,315 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,315 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,315 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,315 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==>  Preparing: select id, parent_id, uid, location, level, zid from t_manor_flower_branch where id = ? 
[DEBUG] 2017-09-12 11:18:17,316 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==> Parameters: 912c53b7ddf34e8e8cf3a9b3bce18ecc(String)
[DEBUG] 2017-09-12 11:18:17,318 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,319 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,319 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.selectByBranchId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,319 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.selectByBranchId - ==>  Preparing: select parent_id from t_manor_flower_branch_chain where branch_id = ? 
[DEBUG] 2017-09-12 11:18:17,320 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.selectByBranchId - ==> Parameters: 912c53b7ddf34e8e8cf3a9b3bce18ecc(String)
[DEBUG] 2017-09-12 11:18:17,321 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,322 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,322 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,323 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:18:17,323 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:18:17,325 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,325 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,326 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,326 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:18:17,326 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 607801(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:18:17,329 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,329 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,329 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,329 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:18:17,329 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 607795(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:18:17,331 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,331 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,332 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,332 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==>  Preparing: update t_manor_flower_branch set zid = ? where zid = ? and location = 0 and id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:18:17,332 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==> Parameters: ddb4b81c40c647cc94ca045a4ab0a9cf(String), 8ab7cfe390be4f46b8e910079b5e75c0(String), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:18:17,334 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,334 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,334 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,334 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==>  Preparing: update t_manor_flower_branch set level = level+? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:18:17,335 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==> Parameters: 3(Integer), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:18:17,337 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,337 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,337 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,337 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,337 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 39483e83ab4f4a169275e107bac7046a(String)
[DEBUG] 2017-09-12 11:18:17,339 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,339 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,339 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,339 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,339 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 708c967473d2400cb5e1efe58e31903c(String)
[DEBUG] 2017-09-12 11:18:17,341 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,341 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,341 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,341 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,341 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 8ab7cfe390be4f46b8e910079b5e75c0(String)
[DEBUG] 2017-09-12 11:18:17,343 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,343 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,343 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,343 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,343 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), 912c53b7ddf34e8e8cf3a9b3bce18ecc(String)
[DEBUG] 2017-09-12 11:18:17,345 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,345 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,345 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,345 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,346 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 39483e83ab4f4a169275e107bac7046a(String)
[DEBUG] 2017-09-12 11:18:17,347 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,347 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,347 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,347 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,347 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 708c967473d2400cb5e1efe58e31903c(String)
[DEBUG] 2017-09-12 11:18:17,349 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,349 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,349 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,350 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,350 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 8ab7cfe390be4f46b8e910079b5e75c0(String)
[DEBUG] 2017-09-12 11:18:17,351 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,351 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,351 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,351 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,351 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), 912c53b7ddf34e8e8cf3a9b3bce18ecc(String)
[DEBUG] 2017-09-12 11:18:17,353 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,353 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,353 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,353 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,353 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 39483e83ab4f4a169275e107bac7046a(String)
[DEBUG] 2017-09-12 11:18:17,356 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,356 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,356 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,356 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,356 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 708c967473d2400cb5e1efe58e31903c(String)
[DEBUG] 2017-09-12 11:18:17,358 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,358 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,358 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,358 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,358 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 8ab7cfe390be4f46b8e910079b5e75c0(String)
[DEBUG] 2017-09-12 11:18:17,360 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,360 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,360 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,360 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==>  Preparing: delete from t_manor_flower_branch_chain where branch_id = ? and parent_id = ? 
[DEBUG] 2017-09-12 11:18:17,360 com.xmniao.dao.manor.ManorFlowerBranchChainMapper.deleteByBranchIdAndParentId - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), 912c53b7ddf34e8e8cf3a9b3bce18ecc(String)
[DEBUG] 2017-09-12 11:18:17,362 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,362 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,362 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,362 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:18:17,363 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 01b2e50d1b71417481c1508b09409750(String), ddb4b81c40c647cc94ca045a4ab0a9cf(String)
[DEBUG] 2017-09-12 11:18:17,364 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,364 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,365 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,365 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:18:17,365 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: c12faa5b9b7245c39b48711ccdc5d400(String), ddb4b81c40c647cc94ca045a4ab0a9cf(String)
[DEBUG] 2017-09-12 11:18:17,366 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,366 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,367 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,367 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:18:17,367 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 520c1ac760fd4302804e7c2292c7aa1c(String), ddb4b81c40c647cc94ca045a4ab0a9cf(String)
[DEBUG] 2017-09-12 11:18:17,368 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,368 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,369 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,369 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==>  Preparing: update t_manor_flower_branch set parent_id = ? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:18:17,369 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==> Parameters: ddb4b81c40c647cc94ca045a4ab0a9cf(String), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:18:17,371 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,371 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,371 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,371 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==>  Preparing: update t_manor_flower set branch_id = ? where type = 1 and florist_uid not in ( ? , ? , ? ) and branch_id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:18:17,372 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==> Parameters: 912c53b7ddf34e8e8cf3a9b3bce18ecc(String), 607795(Integer), 607795(Integer), 607795(Integer), 01b2e50d1b71417481c1508b09409750(String), c12faa5b9b7245c39b48711ccdc5d400(String), 520c1ac760fd4302804e7c2292c7aa1c(String)
[DEBUG] 2017-09-12 11:18:17,373 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,374 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28] from current transaction
[DEBUG] 2017-09-12 11:18:17,374 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,374 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==>  Preparing: update t_manor_flower set branch_id = ?,florist_uid = ? where uid = ? 
[DEBUG] 2017-09-12 11:18:17,374 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==> Parameters: ddb4b81c40c647cc94ca045a4ab0a9cf(String), 607801(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:18:17,376 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,376 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:18:17,376 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,397 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,397 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f68f28]
[DEBUG] 2017-09-12 11:18:17,398 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:18:17,398 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:18:17,398 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorInfoService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:18:17,398 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:18:17,399 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:18:17,400 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:18:17,400 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,400 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:18:17,400 org.springframework.jdbc.datasource.DataSourceUtils - Registering transaction synchronization for JDBC Connection
[DEBUG] 2017-09-12 11:18:17,400 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3] will be managed by Spring
[DEBUG] 2017-09-12 11:18:17,400 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:18:17,401 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:18:17,401 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:18:17,404 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,404 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d] from current transaction
[DEBUG] 2017-09-12 11:18:17,404 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:18:17,405 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:18:17,405 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 607801(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:18:17,408 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,408 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d] from current transaction
[DEBUG] 2017-09-12 11:18:17,408 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:18:17,408 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==>  Preparing: select uid from b_urs_earnings_relation_chain where parent_id = ? and object_oriented = 9 
[DEBUG] 2017-09-12 11:18:17,409 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==> Parameters: 607795(Integer)
[DEBUG] 2017-09-12 11:18:17,411 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,412 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d] from current transaction
[DEBUG] 2017-09-12 11:18:17,412 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:18:17,412 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:18:17,412 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 607801(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:18:17,415 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,416 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d] from current transaction
[DEBUG] 2017-09-12 11:18:17,416 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:18:17,416 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:18:17,417 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:18:17,420 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,420 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d] from current transaction
[DEBUG] 2017-09-12 11:18:17,420 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:18:17,421 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==>  Preparing: update b_urs_earnings_relation set parent_uid = ? where uid = ? and object_oriented = ? 
[DEBUG] 2017-09-12 11:18:17,421 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==> Parameters: 607801(Integer), 607795(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:18:17,460 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,460 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d] from current transaction
[DEBUG] 2017-09-12 11:18:17,460 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:18:17,461 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ==>  Preparing: delete from b_urs_earnings_relation_chain where object_oriented = 9 and uid in ( ? ) and parent_id in ( ? , ? , ? , ? ) 
[DEBUG] 2017-09-12 11:18:17,461 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ==> Parameters: 607795(Integer), 607120(Integer), 607122(Integer), 607286(Integer), 607543(Integer)
[DEBUG] 2017-09-12 11:18:17,483 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,483 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d] from current transaction
[DEBUG] 2017-09-12 11:18:17,484 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:18:17,484 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==>  Preparing: INSERT INTO b_urs_earnings_relation_chain ( uid, object_oriented, parent_id ) VALUES ( ?, ?, ? ) , ( ?, ?, ? ) , ( ?, ?, ? ) 
[DEBUG] 2017-09-12 11:18:17,486 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==> Parameters: 607795(Long), 9(Integer), 606481(Long), 607795(Long), 9(Integer), 607114(Long), 607795(Long), 9(Integer), 607801(Long)
[DEBUG] 2017-09-12 11:18:17,507 com.alibaba.druid.pool.PreparedStatementPool - {conn-110001, pstmt-120012} enter cache
[DEBUG] 2017-09-12 11:18:17,507 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,507 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d] from current transaction
[DEBUG] 2017-09-12 11:18:17,507 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:18:17,507 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==>  Preparing: update b_urs_earnings_relation set uid_relation_chain_level = uid_relation_chain_level+? where object_oriented = 9 and uid in ( ? ) 
[DEBUG] 2017-09-12 11:18:17,508 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==> Parameters: -5(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:18:17,526 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,527 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d] from current transaction
[DEBUG] 2017-09-12 11:18:17,527 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:18:17,527 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==>  Preparing: update b_manor_info SET uid = ?, super_uid = ?, branch_location = ? where uid = ? 
[DEBUG] 2017-09-12 11:18:17,528 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==> Parameters: 607795(Integer), 607801(Integer), 1(Integer), 607795(Integer)
[DEBUG] 2017-09-12 11:18:17,546 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,547 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:18:17,547 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:18:17,548 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,548 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a2f50d]
[DEBUG] 2017-09-12 11:18:17,548 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:18:17,549 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:18:17,549 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:18:23,042 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:18:28,585 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:18:52,579 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:18:57,706 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:19:22,515 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:19:24,393 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:19:45,649 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:19:49,289 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:20:12,695 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:20:14,176 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:20:37,201 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:20:38,731 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:21:05,948 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:21:06,804 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:21:29,070 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:21:34,853 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:21:53,602 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:22:02,881 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:22:21,631 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:22:30,939 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:22:45,042 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:22:56,267 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:23:14,170 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:23:25,347 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:23:42,050 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:23:55,205 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:24:01,047 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:24:01,048 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd3f0ba] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:24:01,048 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:24:01,050 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:24:01,050 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:01,050 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:24:01,051 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607803(Integer)
[DEBUG] 2017-09-12 11:24:01,055 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dd3f0ba]
[DEBUG] 2017-09-12 11:24:01,055 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:24:06,727 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:24:08,941 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:24:08,941 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a94258] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:24:08,941 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:24:08,942 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:24:08,942 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,942 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:24:08,942 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607546(Integer)
[DEBUG] 2017-09-12 11:24:08,946 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a94258]
[DEBUG] 2017-09-12 11:24:08,946 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:24:08,949 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:24:08,949 org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4442c29f] was not registered for synchronization because synchronization is not active
[DEBUG] 2017-09-12 11:24:08,949 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:24:08,949 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will not be managed by Spring
[DEBUG] 2017-09-12 11:24:08,950 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,950 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==>  Preparing: select b1.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch b2 ON b1.zid = b2.zid WHERE b2.uid = ? and b2.location = ? order by b1.level desc limit 1 
[DEBUG] 2017-09-12 11:24:08,950 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectLowestByUidAndLocation - ==> Parameters: 606773(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:24:08,954 org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4442c29f]
[DEBUG] 2017-09-12 11:24:08,954 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:24:08,954 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorFlowerService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:24:08,955 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:24:08,955 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:24:08,956 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:24:08,956 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,956 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] will be managed by Spring
[DEBUG] 2017-09-12 11:24:08,956 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,956 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ?; 
[DEBUG] 2017-09-12 11:24:08,957 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUid - ==> Parameters: 607546(Integer)
[DEBUG] 2017-09-12 11:24:08,959 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,959 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,960 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,960 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==>  Preparing: select id, parent_id, uid, location, level, zid from t_manor_flower_branch where id = ? 
[DEBUG] 2017-09-12 11:24:08,960 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByPrimaryKey - ==> Parameters: b7f35737ce2345218060a88872e948fd(String)
[DEBUG] 2017-09-12 11:24:08,964 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,964 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,965 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,965 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==>  Preparing: select b2.* from t_manor_flower_branch b1 JOIN t_manor_flower_branch_chain chain on chain.parent_id = b1.id join t_manor_flower_branch b2 on b2.id = chain.branch_id WHERE b1.uid = ? 
[DEBUG] 2017-09-12 11:24:08,965 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectAllSubBranchByUid - ==> Parameters: 607546(Integer)
[DEBUG] 2017-09-12 11:24:08,969 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,969 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,969 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,969 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:24:08,969 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 606773(Integer), 1(Integer)
[DEBUG] 2017-09-12 11:24:08,972 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,972 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,972 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,972 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==>  Preparing: select * from t_manor_flower_branch WHERE uid = ? and location = ?; 
[DEBUG] 2017-09-12 11:24:08,972 com.xmniao.dao.manor.ManorFlowerBranchMapper.selectByUidAndLocation - ==> Parameters: 607546(Integer), 0(Integer)
[DEBUG] 2017-09-12 11:24:08,975 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,975 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,976 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,976 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==>  Preparing: update t_manor_flower_branch set zid = ? where zid = ? and location = 0 and id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:24:08,976 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateZidMigrate - ==> Parameters: 87e0c5324bcc411a8b91de541b3e8634(String), b7f35737ce2345218060a88872e948fd(String), 47354f4bb71c4f26bc1cb17fd2ce1dbe(String), b077eeba3ba14ca6aa3f390e83d2aa3b(String), 426cfdaeedd9401290dd67e0b6738bc1(String)
[DEBUG] 2017-09-12 11:24:08,979 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,979 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,979 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,980 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==>  Preparing: update t_manor_flower_branch set level = level+? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:24:08,980 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateLevelAdd - ==> Parameters: 4(Integer), 47354f4bb71c4f26bc1cb17fd2ce1dbe(String), b077eeba3ba14ca6aa3f390e83d2aa3b(String), 426cfdaeedd9401290dd67e0b6738bc1(String)
[DEBUG] 2017-09-12 11:24:08,982 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,982 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,982 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,982 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:24:08,983 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 47354f4bb71c4f26bc1cb17fd2ce1dbe(String), 87e0c5324bcc411a8b91de541b3e8634(String)
[DEBUG] 2017-09-12 11:24:08,985 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,985 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,985 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,985 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:24:08,986 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: b077eeba3ba14ca6aa3f390e83d2aa3b(String), 87e0c5324bcc411a8b91de541b3e8634(String)
[DEBUG] 2017-09-12 11:24:08,988 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,988 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,988 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,988 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==>  Preparing: INSERT INTO t_manor_flower_branch_chain (branch_id, parent_id) SELECT ?,parent_id FROM t_manor_flower_branch_chain AS t WHERE t.branch_id = ? 
[DEBUG] 2017-09-12 11:24:08,989 com.xmniao.dao.manor.ManorFlowerBranchMapper.insertMigrateChain - ==> Parameters: 426cfdaeedd9401290dd67e0b6738bc1(String), 87e0c5324bcc411a8b91de541b3e8634(String)
[DEBUG] 2017-09-12 11:24:08,992 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,992 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,993 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,993 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==>  Preparing: update t_manor_flower_branch set parent_id = ? where id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:24:08,994 com.xmniao.dao.manor.ManorFlowerBranchMapper.updateParentId - ==> Parameters: 87e0c5324bcc411a8b91de541b3e8634(String), 47354f4bb71c4f26bc1cb17fd2ce1dbe(String), b077eeba3ba14ca6aa3f390e83d2aa3b(String), 426cfdaeedd9401290dd67e0b6738bc1(String)
[DEBUG] 2017-09-12 11:24:08,996 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:08,996 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:08,996 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:08,997 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==>  Preparing: update t_manor_flower set branch_id = ? where type = 1 and florist_uid not in ( ? , ? , ? ) and branch_id in ( ? , ? , ? ) 
[DEBUG] 2017-09-12 11:24:08,997 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerByMigrate - ==> Parameters: b7f35737ce2345218060a88872e948fd(String), 607546(Integer), 607546(Integer), 607546(Integer), 47354f4bb71c4f26bc1cb17fd2ce1dbe(String), b077eeba3ba14ca6aa3f390e83d2aa3b(String), 426cfdaeedd9401290dd67e0b6738bc1(String)
[DEBUG] 2017-09-12 11:24:09,000 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:09,001 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb] from current transaction
[DEBUG] 2017-09-12 11:24:09,001 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:09,001 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==>  Preparing: update t_manor_flower set branch_id = ?,florist_uid = ? where uid = ? 
[DEBUG] 2017-09-12 11:24:09,001 com.xmniao.dao.manor.ManorFlowerMapper.updateFlowerSeedlingMigrate - ==> Parameters: 87e0c5324bcc411a8b91de541b3e8634(String), 606773(Integer), 607546(Integer)
[DEBUG] 2017-09-12 11:24:09,003 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:09,003 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:24:09,003 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:09,029 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:09,029 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af777bb]
[DEBUG] 2017-09-12 11:24:09,030 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:24:09,030 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:24:09,030 org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.xmniao.service.manor.ManorInfoService.BindingParent]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
[DEBUG] 2017-09-12 11:24:09,030 org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] for JDBC transaction
[DEBUG] 2017-09-12 11:24:09,030 org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] to manual commit
[DEBUG] 2017-09-12 11:24:09,032 org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
[DEBUG] 2017-09-12 11:24:09,032 org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,032 org.springframework.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
[DEBUG] 2017-09-12 11:24:09,034 org.springframework.jdbc.datasource.DataSourceUtils - Registering transaction synchronization for JDBC Connection
[DEBUG] 2017-09-12 11:24:09,034 org.mybatis.spring.transaction.SpringManagedTransaction - JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3] will be managed by Spring
[DEBUG] 2017-09-12 11:24:09,034 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:24:09,034 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:24:09,034 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 607546(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:24:09,037 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,037 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e] from current transaction
[DEBUG] 2017-09-12 11:24:09,037 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:24:09,037 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid=? and object_oriented=? 
[DEBUG] 2017-09-12 11:24:09,037 com.xmniao.urs.dao.UrsEarningsRelationDao.getUrsEarningsRelation - ==> Parameters: 606773(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:24:09,041 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,041 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e] from current transaction
[DEBUG] 2017-09-12 11:24:09,041 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:24:09,041 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==>  Preparing: select uid from b_urs_earnings_relation_chain where parent_id = ? and object_oriented = 9 
[DEBUG] 2017-09-12 11:24:09,041 com.xmniao.urs.dao.UrsEarningsRelationDao.getManorChildsUid - ==> Parameters: 607546(Integer)
[DEBUG] 2017-09-12 11:24:09,044 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,044 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e] from current transaction
[DEBUG] 2017-09-12 11:24:09,044 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:24:09,044 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:24:09,044 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 606773(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:24:09,050 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,050 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e] from current transaction
[DEBUG] 2017-09-12 11:24:09,051 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:24:09,051 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==>  Preparing: select id, uid, object_oriented, parent_uid,uid_relation_chain_level,uid_relation_chain, uid_relation_chain_nname, indirect_uid, referrer_sellerid, referrer_sellertype, create_time from b_urs_earnings_relation where uid in (select parent_id from b_urs_earnings_relation_chain where object_oriented = ? and uid = ?) and object_oriented = ? 
[DEBUG] 2017-09-12 11:24:09,051 com.xmniao.urs.dao.UrsEarningsRelationDao.getParentsByUid - ==> Parameters: 9(Integer), 607546(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:24:09,054 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,055 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e] from current transaction
[DEBUG] 2017-09-12 11:24:09,055 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:24:09,055 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==>  Preparing: update b_urs_earnings_relation set parent_uid = ? where uid = ? and object_oriented = ? 
[DEBUG] 2017-09-12 11:24:09,055 com.xmniao.urs.dao.UrsEarningsRelationDao.updateParentUid - ==> Parameters: 606773(Integer), 607546(Integer), 9(Integer)
[DEBUG] 2017-09-12 11:24:09,081 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,081 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e] from current transaction
[DEBUG] 2017-09-12 11:24:09,081 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:24:09,081 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ==>  Preparing: delete from b_urs_earnings_relation_chain where object_oriented = 9 and uid in ( ? ) and parent_id in ( ? ) 
[DEBUG] 2017-09-12 11:24:09,081 com.xmniao.urs.dao.UrsEarningsRelationDao.deleteChains - ==> Parameters: 607546(Integer), 608023(Integer)
[DEBUG] 2017-09-12 11:24:09,100 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,100 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e] from current transaction
[DEBUG] 2017-09-12 11:24:09,101 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:24:09,101 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==>  Preparing: INSERT INTO b_urs_earnings_relation_chain ( uid, object_oriented, parent_id ) VALUES ( ?, ?, ? ) , ( ?, ?, ? ) , ( ?, ?, ? ) 
[DEBUG] 2017-09-12 11:24:09,101 com.xmniao.urs.dao.UrsEarningsRelationDao.addChainBatch - ==> Parameters: 607546(Long), 9(Integer), 606481(Long), 607546(Long), 9(Integer), 606773(Long), 607546(Long), 9(Integer), 607114(Long)
[DEBUG] 2017-09-12 11:24:09,128 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,128 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e] from current transaction
[DEBUG] 2017-09-12 11:24:09,129 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:24:09,129 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==>  Preparing: update b_urs_earnings_relation set uid_relation_chain_level = uid_relation_chain_level+? where object_oriented = 9 and uid in ( ? ) 
[DEBUG] 2017-09-12 11:24:09,129 com.xmniao.urs.dao.UrsEarningsRelationDao.updateManorLevels - ==> Parameters: 2(Integer), 607546(Integer)
[DEBUG] 2017-09-12 11:24:09,148 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,149 org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e] from current transaction
[DEBUG] 2017-09-12 11:24:09,149 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ooo Using Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@4c8bb3e3]
[DEBUG] 2017-09-12 11:24:09,149 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==>  Preparing: update b_manor_info SET uid = ?, super_uid = ?, branch_location = ? where uid = ? 
[DEBUG] 2017-09-12 11:24:09,149 com.xmniao.urs.dao.manor.ManorInfoMapper.updateByPrimaryKeySelective - ==> Parameters: 607546(Integer), 606773(Integer), 1(Integer), 607546(Integer)
[DEBUG] 2017-09-12 11:24:09,168 org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,169 org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction commit
[DEBUG] 2017-09-12 11:24:09,169 org.springframework.jdbc.datasource.DataSourceTransactionManager - Committing JDBC transaction on Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743]
[DEBUG] 2017-09-12 11:24:09,170 org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,170 org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a96d25e]
[DEBUG] 2017-09-12 11:24:09,170 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:24:09,172 org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@52f56743] after transaction
[DEBUG] 2017-09-12 11:24:09,172 org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
[DEBUG] 2017-09-12 11:24:23,644 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:24:33,952 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:24:52,023 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:25:02,605 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:25:15,378 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:25:28,450 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:25:41,710 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:25:57,617 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:26:06,426 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:26:25,079 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:26:33,449 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:26:54,961 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:26:57,067 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:27:23,666 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:27:24,993 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:27:49,187 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:27:52,396 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:28:15,345 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:28:19,039 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:28:43,238 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:28:46,837 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:29:11,776 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:29:13,539 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:29:36,509 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:29:43,211 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:30:05,851 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:30:07,726 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:30:29,097 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:30:32,059 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:30:55,397 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:30:58,674 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:31:21,853 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:31:25,324 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:31:48,633 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:31:49,388 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:32:17,232 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:32:17,394 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:32:42,057 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:32:47,092 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:33:11,185 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:33:14,740 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:33:39,070 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:33:41,442 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:34:06,139 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:34:08,252 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:34:31,492 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:34:35,555 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:34:58,589 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:35:04,406 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:35:22,368 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:35:28,947 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:35:45,489 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:35:58,513 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:36:11,502 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:36:23,572 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:36:39,460 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:36:50,477 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:37:06,176 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:37:17,911 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:37:30,597 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:37:47,157 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:37:56,795 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:38:15,777 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:38:26,119 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:38:43,618 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:38:54,987 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:39:09,422 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:39:21,623 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:39:35,001 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:39:51,575 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:39:59,242 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:40:20,509 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:40:22,923 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:40:43,881 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:40:48,778 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:41:06,926 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:41:15,568 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:41:34,775 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:41:43,618 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:42:00,430 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:42:09,623 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:42:27,103 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:42:38,626 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:42:54,464 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:43:03,644 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:43:18,960 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:43:27,119 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:43:45,175 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:43:55,531 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:44:12,712 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:44:24,011 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:44:36,105 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:44:52,960 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:45:01,249 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:45:21,216 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:45:29,156 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:45:50,875 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:45:57,354 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:46:15,395 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:46:26,330 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:46:43,429 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:46:53,911 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:47:07,175 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:47:20,292 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:47:32,458 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:47:46,814 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:47:58,648 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:48:11,059 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:48:22,963 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:48:37,451 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:48:51,459 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:49:01,279 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:49:17,977 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:49:30,998 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:49:45,205 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:50:00,559 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:50:11,604 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:50:29,109 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:50:39,039 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:50:57,179 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:51:07,256 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:51:25,470 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:51:32,180 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:51:55,346 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:51:59,954 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:52:20,399 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:52:24,686 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:52:43,411 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:52:48,003 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:53:11,948 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:53:13,412 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:53:36,150 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:53:39,817 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:54:01,032 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:54:08,628 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:54:25,962 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:54:35,704 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:54:54,810 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:54:59,999 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:55:21,190 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:55:29,073 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:55:50,986 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:55:53,713 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:56:15,712 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:56:21,877 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:56:40,990 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:56:47,706 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:57:05,081 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:57:13,957 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:57:31,494 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:57:43,415 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:57:57,275 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:58:06,773 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:58:22,120 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:58:29,835 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:58:49,606 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:58:58,107 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:59:15,755 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:59:24,906 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:59:41,826 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
[DEBUG] 2017-09-12 11:59:52,375 org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers
